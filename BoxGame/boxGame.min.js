console.info("javascript loaded");for(var gameBoard=$("#gameBoard"),leftOver=$("#leftOver"),numRows=10,numCols=10,numClicks=0,totalBoxes=0,playerScores=[0,0],playerDisplays=[$("#score0"),$("#score1")],r=0;r<2*numRows;r++)if(r%2==0){for(var c=0;c<numCols;c++)if(gameBoard.append("<div class='dot'></div>"),c<numCols-1){var tValue=(currRow=r/2)<numRows-1?currRow:-1,bValue=currRow>0?currRow-1:-1;gameBoard.append("<div class='line hLine' t='"+tValue+"' b='"+bValue+"' col='"+c+"'></div>")}}else if(r<2*numRows-1){var currRow=(r-1)/2;for(c=0;c<numCols;c++){var lValue=c<numCols-1?c:-1,rValue=c>0?c-1:-1;gameBoard.append("<div class='line vLine' l='"+lValue+"' r='"+rValue+"' row='"+currRow+"'></div>"),c<numCols-1&&(gameBoard.append("<div class='box' row='"+currRow+"' col='"+c+"'></div>"),totalBoxes++)}}function fullSquare(r){var a=r.attr("row"),l=r.attr("col"),s=$(".line[t="+a+"][col="+l+"]").hasClass("drawn"),o=$(".line[b="+a+"][col="+l+"]").hasClass("drawn"),e=$(".line[l="+l+"][row="+a+"]").hasClass("drawn"),c=$(".line[r="+l+"][row="+a+"]").hasClass("drawn");return o&&s&&e&&c}function updateScore(){for(var r=0;r<playerScores.length;r++)playerDisplays[r].text(playerScores[r]);leftOver.text(totalBoxes-playerScores[0]-playerScores[1])}updateScore(),$(".line").click(function(){if(!$(this).hasClass("drawn")){var r=!1;$(this).addClass("drawn");var a=[];if($(this).hasClass("hLine")){var l=$(this).attr("col");a.push($(".box[row="+$(this).attr("b")+"][col="+l+"]")),a.push($(".box[row="+$(this).attr("t")+"][col="+l+"]"))}else{var s=$(this).attr("row");a.push($(".box[row="+s+"][col="+$(this).attr("l")+"]")),a.push($(".box[row="+s+"][col="+$(this).attr("r")+"]"))}for(var o=0;o<a.length;o++){var e=a[o];console.log(numClicks),fullSquare(e)&&(e.addClass("p"+numClicks%2),playerScores[numClicks%2]++,r=!0,updateScore())}r||(playerDisplays[numClicks%2].removeClass("currTurn"),playerDisplays[++numClicks%2].addClass("currTurn"))}});